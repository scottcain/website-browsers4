<VirtualHost *:80>
    ServerName www.wormbase.org

   LogFormat "%h %l %u %t \"%r\" %s %b" common
   LogFormat "%h %l %u %t %{Referer}i \"%{User-Agent}i\" \"%r\" %s %b" combined_format
   #LogFormat "%h %l %u %t %{Referer}i \"%{User-Agent}i\" \"%r\" %s %b %P" combined_format  
   LogFormat "witheld %l %u %t \"%r\" %s %b" anonymous

   ErrorLog     /usr/local/wormbase/logs/apache2/www/error.log
   CustomLog    /usr/local/wormbase/logs/apache2/www/access.log combined_format

    # Support files: the wormbase css file for gbrowse, banner image, etc
    Alias      "/gbrowse2/i/" "/usr/local/wormbase/tmp/gbrowse/images/"
    Alias      "/gbrowse2/images/" "/usr/local/wormbase/website/production/root/gbrowse/images/"
    Alias        "/gbrowse-static/i" "/usr/local/wormbase/tmp/gbrowse/images"
    Alias        "/gbrowse-static"   "/usr/local/wormbase/website/production/root/gbrowse"

    <Directory "/usr/local/wormbase/tmp/gbrowse">
       Allow from all
    </Directory>

#    <Directory "/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support">
#      Options -Indexes -MultiViews +FollowSymLinks
#      Order allow,deny
#      Allow from all
#    </Directory>

    <Directory "/usr/local/wormbase/website/production/root/gbrowse">
      Options -Indexes -MultiViews +FollowSymLinks
      Order allow,deny
      Allow from all
    </Directory>

    <Directory "/usr/local/wormbase/website/production/root/gbrowse/cgi">
#      SetEnv PERL5LIB "/usr/local/wormbase/extlib2/lib/perl5:/usr/local/wormbase/extlib2/lib/perl5/x86_64-linux-gnu-thread-multi:/usr/local/wormbase/website/production/lib:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics/Glyph:/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi"
      SetEnv PERL5LIB "/usr/local/wormbase/website/production/lib:/usr/local/wormbase/website/production/lib/Bio:/usr/local/wormbase/website/production/lib/Bio/Graphics:/usr/local/wormbase/website/production/lib/Bio/Graphics/Glyph:/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi"

       SetEnv GBROWSE_CONF   "/usr/local/wormbase/website/production/conf/gbrowse"
       AllowOverride None
       Options None
       Order allow,deny
       Allow from all

        <IfModule mod_fcgid.c>
#      #       Alias /fgb2 "/usr/local/wormbase/gbrowse-test/cgi/gb2"
      #       <Location /gb2>
              SetHandler   fcgid-script
              Options +ExecCGI
      #          Order allow,deny
      #          Allow from all
      #        </Location>
   </IfModule>
    </Directory>

    <IfModule mod_fcgid.c>
    Alias /tools/genome "/usr/local/wormbase/website/production/root/gbrowse/cgi"
    <Location /tools/genome>
            SetHandler	 fcgid-script
            Options	  ExecCGI
            Order allow,deny
            Allow from all
        </Location>
	IdleTimeout 300
	FcgidInitialEnv GBROWSE_CONF /usr/local/wormbase/website/production/conf/gbrowse
#	FcgidInitialEnv PERL5LIB "/usr/local/wormbase/extlib2/lib/perl5:/usr/local/wormbase/extlib2/lib/perl5/x86_64-linux-gnu-thread-multi:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics/Glyph:/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi"
#	FcgidInitialEnv PERL5LIB "/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics:/usr/local/wormbase/services/gbrowse2/website-gbrowse2-support/lib/Bio/Graphics/Glyph"
	FcgidInitialEnv PERL5LIB "/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi:/usr/local/wormbase/website/production/lib:/usr/local/wormbase/website/production/lib/Bio:/usr/local/wormbase/website/production/lib/Bio/Graphics:/usr/local/wormbase/website/production/lib/Bio/Graphics/Glyph"
    </IfModule>
</VirtualHost>



# Gbrowse syn
# Running under it's own virtual host since it has some weird configuration quirks.
<VirtualHost *:8080>

   LogFormat "%h %l %u %t \"%r\" %s %b" common
   LogFormat "%h %l %u %t %{Referer}i \"%{User-Agent}i\" \"%r\" %s %b" combined_format
   LogFormat "witheld %l %u %t \"%r\" %s %b" anonymous

   ErrorLog     /usr/local/wormbase/logs/apache2/gbrowse_syn/error.log
   CustomLog    /usr/local/wormbase/logs/apache2/gbrowse_syn/access.log combined_format

    # Support files: mostly contained in the wormbase-website repo
    ScriptAlias  "/tools/synteny"      "/usr/local/wormbase/website/production/root/gbrowse/cgi/gbrowse_syn"
    Alias      "/gbrowse2/images/" "/usr/local/wormbase/website/production/root/gbrowse/images/"
    Alias      "/synteny/images" "/usr/local/wormbase/tmp/gbrowse_syn/images"
    Alias      "/gbrowse-static"   "/usr/local/wormbase/website/production/root/gbrowse"

    <Directory "/usr/local/wormbase/tmp/gbrowse">
       Allow from all
    </Directory>

    <Directory "/usr/local/wormbase/website/production/root/gbrowse">
      Options -Indexes -MultiViews +FollowSymLinks
      Order allow,deny
      Allow from all
    </Directory>

    <Directory "/usr/local/wormbase/website/production/root/gbrowse/cgi">
      SetEnv PERL5LIB "/usr/local/wormbase/website/production/lib:/usr/local/wormbase/website/production/lib/Bio:/usr/local/wormbase/website/production/lib/Bio/Graphics:/usr/local/wormbase/website/production/lib/Bio/Graphics/Glyph:/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi"

       SetEnv GBROWSE_CONF   "/usr/local/wormbase/website/production/conf/gbrowse"
       AllowOverride None
       Options None
       Order allow,deny
       Allow from all
    </Directory>
</VirtualHost>









# GBrowse_syn: original
# Running under it's own virtual host since it has some weird configuration quirks.
<VirtualHost *:8000>
#   ServerName www.wormbase.org
   PerlSwitches -Mlib=/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi \
               -Mlib=/usr/local/wormbase/extlib/lib/perl5

   LogFormat "%h %l %u %t \"%r\" %s %b" common
   LogFormat "%h %l %u %t %{Referer}i \"%{User-Agent}i\" \"%r\" %s %b" combined_format
   #LogFormat "%h %l %u %t %{Referer}i \"%{User-Agent}i\" \"%r\" %s %b %P" combined_format  
   LogFormat "witheld %l %u %t \"%r\" %s %b" anonymous

   ErrorLog     /usr/local/wormbase/logs/apache2/gbrowse_syn/error.log
   CustomLog    /usr/local/wormbase/logs/apache2/gbrowse_syn/access.log combined_format

   ScriptAlias  "/db/gb2"     "/usr/local/wormbase/services/gbrowse2/current/cgi/gb2"
   Alias       "/gb2-support/"     "/usr/local/wormbase/services/gbrowse2/support-files/"
   Alias       "/gbrowse2/i" "/usr/local/wormbase/tmp/gbrowse/images"
   Alias       "/gbrowse2/images" "/usr/local/wormbase/tmp/gbrowse/images"
   Alias       "/gbrowse2"   "/usr/local/wormbase/services/gbrowse2/current/html"


#   SetEnv DOCUMENT_ROOT "/usr/local/wormbase/services/gbrowse2/current/html"

    <Directory "/usr/local/wormbase/services/gbrowse2/current/cgi/gb2">
       SetEnv PERL5LIB "/usr/local/wormbase/extlib/lib/perl5:/usr/local/wormbase/extlib/lib/perl5/x86_64-linux-gnu-thread-multi:/usr/local/wormbase/services/gbrowse2/support-files/lib:/usr/local/wormbase/services/gbrowse2/support-files/lib/Bio:/usr/local/wormbase/services/gbrowse2/support-files/lib/Bio/Graphics:/usr/local/wormbase/services/gbrowse2/support-files/lib/Bio/Graphics/Glyph"
#       SetEnv GBROWSE_CONF   "/usr/local/wormbase/services/gbrowse2/support-files/conf"
#       SetEnv DOCUMENT_ROOT "/usr/local/wormbase/services/gbrowse2/current/html"

       SetEnv GBROWSE_CONF   "/usr/local/wormbase/website/production/conf/gbrowse"
       SetEnv DOCUMENT_ROOT "/usr/local/wormbase/website/production/conf/gbrowse/synteny"

    </Directory>

</VirtualHost>


